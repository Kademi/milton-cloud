<html>

<head>

<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
<title>Integrate MiltonFilter</title>

<link rel="template" href="learner/modulePage" />
<script title="order" type="data/parameter" >2</script>

</head>

<body>

<h1>Integrate MiltonFilter</h1>

    <p>Now create the folder structure required for a web project and edit the web.xml file:</p>

    <p><img src="tuts-anno1-project.png" /></p>

    <p>&#160;</p>

    <p>And integrate MiltonFilter into your web.xml file, specifying the AnnotationResourceFactory:</p>
<pre class="prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
     version="2.4"&gt;

    &lt;filter&gt;
        &lt;filter-name&gt;MiltonFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;io.milton.servlet.MiltonFilter&lt;/filter-class&gt;
        
        &lt;!-- This param shows how to exclude certain paths from the MiltonFilter --&gt;
        &lt;!-- These paths will "fall through" the filter and be handled as normal servlet resources --&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;milton.exclude.paths&lt;/param-name&gt;
            &lt;param-value&gt;/myExcludedPaths,/moreExcludedPaths&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;resource.factory.class&lt;/param-name&gt;
            &lt;param-value&gt;io.milton.http.annotated.AnnotationResourceFactory&lt;/param-value&gt;
        &lt;/init-param&gt;
        
        &lt;!-- List packages where milton should find, and instantiate, controllers --&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;controllerPackagesToScan&lt;/param-name&gt;
            &lt;param-value&gt;com.helloworld&lt;/param-value&gt;
        &lt;/init-param&gt;                    
    &lt;/filter&gt;

    &lt;filter-mapping&gt;
        &lt;filter-name&gt;MiltonFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;

    &lt;session-config&gt;
        &lt;session-timeout&gt;
            30
        &lt;/session-timeout&gt;
    &lt;/session-config&gt;
    &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;
            index.jsp
        &lt;/welcome-file&gt;
    &lt;/welcome-file-list&gt;
&lt;/web-app&gt;

</pre></body>

</html>

