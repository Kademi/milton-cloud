<html>

<head>

<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
<title>Getting Started with annotations</title>

<link rel="template" href="learner/modulePage" />
<script title="order" type="data/parameter" >4</script>

</head>

<body>

<h1>Map the root object</h1>

    <p>The first thing that milton needs is some object to represent the root of your file/folder hierarchy. This is done with the @Root annotation.</p>

    <p>Just add this to a method which returns an object representing the root for the given host. In this example we arent using virtual hosting, so the root object doesnt really matter. The simplest thing in this case is just to return the controller itself.</p>
<pre class="prettyprint">
    @Root
    public HelloWorldController getRoot() {
        return this;
    }
</pre>

    <p><br />
     Thats enough to run the application, but it won't say "hello world" yet, so lets do some more.</p>

    <p>Lets say our application was a product database, so we had Product objects, and we wanted each Product to be shown as a folder which contains files pertaining to that product.</p>

    <p>So we'll add a simple little Product class (in the controller class) to mimic what would be a real domain object, and we'll create 2 products in the constructor</p>

    <div class="accentuated">
      <p><em>The Product class shown here is <strong>only</strong> to mimic a domain class in a real business app. You probably wont use inner classes in your app!</em></p>
    </div>
<pre class="prettyprint">
    private List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();

    public HelloWorldController() {
        products.add(new Product("hello"));
        products.add(new Product("world"));
    }

...

    public class Product {
        private String name;

        public Product(String name) {
            this.name = name;
        }
        
    }
</pre>

    <p>&#160;</p>

    <p>And then we give milton a method that lets it find these are children of the root object:</p>
<pre class="prettyprint">
    @ChildrenOf
    public List&lt;Product&gt; getProducts(HelloWorldController root) {
        return products;
    }
</pre>

    <p>OK, thats enough coding, lets run it!</p>

    <p>&#160;</p></body>

</html>

